(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./node_modules/esrever/esrever.js":function(e,t,r){(function(e,n){var o;/*! https://mths.be/esrever v0.2.0 by @mathias */!function(i){var a=t,s=(e&&e.exports,"object"==typeof n&&n);s.global!==s&&s.window;var u=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,f=function(e){for(var t="",r=(e=e.replace(u,(function(e,t,r){return f(r)+t})).replace(c,"$2$1")).length;r--;)t+=e.charAt(r);return t},l={version:"0.2.0",reverse:f};void 0===(o=function(){return l}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r("./node_modules/webpack/buildin/module.js")(e),r("./node_modules/webpack/buildin/global.js"))},"./node_modules/immer/dist/immer.module.js":function(e,t,r){"use strict";(function(e){var n;r.d(t,"a",(function(){return ue})),r.d(t,"b",(function(){return ce})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return se}));var o,i,a="undefined"!=typeof Symbol,s="undefined"!=typeof Map,u="undefined"!=typeof Set,c=a?Symbol("immer-nothing"):((n={})["immer-nothing"]=!0,n),f=a?Symbol("immer-draftable"):"__$immer_draftable",l=a?Symbol("immer-state"):"__$immer_state",d=a?Symbol.iterator:"@@iterator",h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function v(e,t){function r(){this.constructor=e}h(e,t),e.prototype=(r.prototype=t.prototype,new r)}function p(e){return!!e&&!!e[l]}function y(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[f]||!!e.constructor[f]||k(e)||P(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(o||(o={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(i||(i={}));var g="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function m(e,t){b(e)===o.Object?g(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function b(e){if(e||S(),e[l])switch(e[l].type){case i.ES5Object:case i.ProxyObject:return o.Object;case i.ES5Array:case i.ProxyArray:return o.Array;case i.Map:return o.Map;case i.Set:return o.Set}return Array.isArray(e)?o.Array:k(e)?o.Map:P(e)?o.Set:o.Object}function w(e,t){return b(e)===o.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function x(e,t){return b(e)===o.Map?e.get(t):e[t]}function O(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function k(e){return s&&e instanceof Map}function P(e){return u&&e instanceof Set}function j(e){return e.copy||e.base}function E(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return g(e).forEach((function(n){if(n!==l){var o=Object.getOwnPropertyDescriptor(e,n),i=o.value;if(o.get){if(!t)throw new Error("Immer drafts cannot have computed properties");i=o.get.call(e)}o.enumerable?r[n]=i:Object.defineProperty(r,n,{value:i,writable:!0,configurable:!0})}})),r}function F(e,t){if(y(e)&&!p(e)&&!Object.isFrozen(e)){var r=b(e);r===o.Set?e.add=e.clear=e.delete=A:r===o.Map&&(e.set=e.clear=e.delete=A),Object.freeze(e),t&&m(e,(function(e,t){return F(t,!0)}))}}function A(){throw new Error("This object has been frozen and should not be mutated")}function S(){throw new Error("Illegal state, please file a bug")}var D=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(_),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function _(e){var t=e[l];t.type===i.ProxyObject||t.type===i.ProxyArray?t.revoke():t.revoked=!0}function C(e,t,r){var n=r.drafts[0],o=void 0!==t&&t!==n;if(e.willFinalize(r,t,o),o){if(n[l].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");y(t)&&(t=N(e,t,r),r.parent||R(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[l].base}))}else t=N(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==c?t:void 0}function N(e,t,r,n){var o=t[l];if(!o)return Object.isFrozen(t)?t:B(e,t,r);if(o.scope!==r)return t;if(!o.modified)return R(e,o.base,!0),o.base;if(!o.finalized){if(o.finalized=!0,B(e,o.draft,r,n),e.onDelete&&o.type!==i.Set)if(e.useProxies){m(o.assigned,(function(t,r){r||e.onDelete(o,t)}))}else{var a=o.base,s=o.copy;m(a,(function(t){w(s,t)||e.onDelete(o,t)}))}e.onCopy&&e.onCopy(o),e.autoFreeze&&r.canAutoFreeze&&F(o.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case i.ProxyObject:case i.ES5Object:case i.Map:return function(e,t,r,n){var o=e.base,i=e.copy;m(e.assigned,(function(e,a){var s=x(o,e),u=x(i,e),c=a?w(o,e)?"replace":"add":"remove";if(s!==u||"replace"!==c){var f=t.concat(e);r.push("remove"===c?{op:c,path:f}:{op:c,path:f,value:u}),n.push("add"===c?{op:"remove",path:f}:"remove"===c?{op:"add",path:f,value:s}:{op:"replace",path:f,value:s})}}))}(e,t,r,n);case i.ES5Array:case i.ProxyArray:return function(e,t,r,n){var o,i,a=e.base,s=e.assigned,u=e.copy;u||S();u.length<a.length&&(a=(o=[u,a])[0],u=o[1],r=(i=[n,r])[0],n=i[1]);var c=u.length-a.length,f=0;for(;a[f]===u[f]&&f<a.length;)++f;var l=a.length;for(;l>f&&a[l-1]===u[l+c-1];)--l;for(var d=f;d<l;++d)if(s[d]&&u[d]!==a[d]){var h=t.concat([d]);r.push({op:"replace",path:h,value:u[d]}),n.push({op:"replace",path:h,value:a[d]})}var v=r.length;for(d=l+c-1;d>=l;--d){h=t.concat([d]);r[v+d-l]={op:"add",path:h,value:u[d]},n.push({op:"remove",path:h})}}(e,t,r,n);case i.Set:(function(e,t,r,n){var o=e.base,i=e.copy,a=0;o.forEach((function(e){if(!i.has(e)){var o=t.concat([a]);r.push({op:"remove",path:o,value:e}),n.unshift({op:"add",path:o,value:e})}a++})),a=0,i.forEach((function(e){if(!o.has(e)){var i=t.concat([a]);r.push({op:"add",path:i,value:e}),n.unshift({op:"remove",path:i,value:e})}a++}))})(e,t,r,n)}}(o,n,r.patches,r.inversePatches)}return o.copy}function B(e,t,r,n){var a=t[l];return a&&(a.type!==i.ES5Object&&a.type!==i.ES5Array||(a.copy=E(a.draft,!0)),t=a.copy),m(t,(function(i,s){return function e(t,r,n,i,a,s,u,c){if(u===a)throw Error("Immer forbids circular references");var f=!!i&&a===n,l=P(a);if(p(u)){var d=c&&f&&!l&&!w(i.assigned,s)?c.concat(s):void 0;u=N(t,u,r,d),function(e,t,r){switch(b(e)){case o.Map:e.set(t,r);break;case o.Set:e.delete(t),e.add(r);break;default:e[t]=r}}(a,s,u),p(u)&&(r.canAutoFreeze=!1)}else{if(f&&O(u,x(i.base,s)))return;y(u)&&(m(u,(function(o,a){return e(t,r,n,i,u,o,a,c)})),r.parent||R(t,u))}f&&t.onAssign&&!l&&t.onAssign(i,s,u)}(e,r,t,a,t,i,s,n)})),t}function R(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!p(t)&&F(t,r)}var T={get:function(e,t){if(t===l)return e;var r=e.drafts;if(!e.modified&&w(r,t))return r[t];var n=j(e)[t];if(e.finalized||!y(n))return n;if(e.modified){if(n!==M(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in j(e)},ownKeys:function(e){return Reflect.ownKeys(j(e))},set:function(e,t,r){if(!e.modified){var n=M(e.base,t);if(r?O(n,r)||r===e.drafts[t]:O(n,r)&&t in e.base)return!0;I(e),q(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==M(e.base,t)||t in e.base?(e.assigned[t]=!1,I(e),q(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=j(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==i.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},z={};function M(e,t){var r=e[l],n=Reflect.getOwnPropertyDescriptor(r?j(r):e,t);return n&&n.value}function q(e){if(!e.modified){if(e.modified=!0,e.type===i.ProxyObject||e.type===i.ProxyArray){var t=e.copy=E(e.base);m(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&q(e.parent)}}function I(e){e.copy||(e.copy=E(e.base))}function W(e,t,r){e.drafts.forEach((function(e){e[l].finalizing=!0})),r?p(t)&&t[l].scope===e&&Y(e.drafts):(e.patches&&function e(t){if(!t||"object"!=typeof t)return;var r=t[l];if(!r)return;var n=r.base,o=r.draft,a=r.assigned,s=r.type;if(s===i.ES5Object)m(o,(function(t){t!==l&&(void 0!==n[t]||w(n,t)?a[t]||e(o[t]):(a[t]=!0,L(r)))})),m(n,(function(e){void 0!==o[e]||w(o,e)||(a[e]=!1,L(r))}));else if(s===i.ES5Array){if(H(r)&&(L(r),a.length=!0),o.length<n.length)for(var u=o.length;u<n.length;u++)a[u]=!1;else for(u=n.length;u<o.length;u++)a[u]=!0;var c=Math.min(o.length,n.length);for(u=0;u<c;u++)void 0===a[u]&&e(o[u])}}(e.drafts[0]),Y(e.drafts))}function J(e,t){var r=Array.isArray(e),n=K(e);m(n,(function(t){!function(e,t,r){var n=$[t];n?n.enumerable=r:$[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){Z(e);var r=V(j(e),t);if(e.finalizing)return r;if(r===V(e.base,t)&&y(r))return U(e),e.copy[t]=e.scope.immer.createProxy(r,e);return r}(this[l],t)},set:function(e){!function(e,t,r){if(Z(e),e.assigned[t]=!0,!e.modified){if(O(r,V(j(e),t)))return;L(e),U(e)}e.copy[t]=r}(this[l],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var o,a,s,u={type:r?i.ES5Array:i.ES5Object,scope:t?t.scope:D.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return o=n,a=l,s=u,Object.defineProperty(o,a,{value:s,enumerable:!1,writable:!0}),n}function V(e,t){var r=e[l];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function L(e){e.modified||(e.modified=!0,e.parent&&L(e.parent))}function U(e){e.copy||(e.copy=K(e.base))}function K(e){var t=e&&e[l];if(t){t.finalizing=!0;var r=E(t.draft,!0);return t.finalizing=!1,r}return E(e)}m(T,(function(e,t){z[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),z.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return T.deleteProperty.call(this,e[0],t)},z.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return T.set.call(this,e[0],t,r,e[0])};var $={};function Z(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(j(e)))}function Y(e){for(var t=e.length-1;t>=0;t--){var r=e[t][l];if(!r.modified)switch(r.type){case i.ES5Array:H(r)&&L(r);break;case i.ES5Object:G(r)&&L(r)}}}function G(e){for(var t=e.base,r=e.draft,n=Object.keys(r),o=n.length-1;o>=0;o--){var i=n[o],a=t[i];if(void 0===a&&!w(t,i))return!0;var s=r[i],u=s&&s[l];if(u?u.base!==a:!O(s,a))return!0}return n.length!==Object.keys(t).length}function H(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var Q=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[l]={type:i.Map,parent:t,scope:t?t.scope:D.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}v(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return j(this[l]).size},enumerable:!0,configurable:!0}),r.has=function(e){return j(this[l]).has(e)},r.set=function(e,t){var r=this[l];return Z(r),j(r).get(e)!==t&&(X(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[l];return Z(t),X(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[l];return Z(e),X(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;j(this[l]).forEach((function(n,o,i){e.call(t,r.get(o),o,r)}))},r.get=function(e){var t=this[l];Z(t);var r=j(t).get(e);if(t.finalized||!y(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return X(t),t.copy.set(e,n),n},r.keys=function(){return j(this[l]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[d]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[d]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[d]=function(){return this.entries()},t}(Map);function X(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var ee=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[l]={type:i.Set,parent:t,scope:t?t.scope:D.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}v(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return j(this[l]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[l];return Z(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[l];return Z(t),t.copy?t.copy.add(e):t.base.has(e)||(te(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[l];return Z(t),te(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[l];return Z(e),te(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[l];return Z(e),te(e),e.copy.values()},r.entries=function(){var e=this[l];return Z(e),te(e),e.copy.entries()},r.keys=function(){return this.values()},r[d]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function te(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(y(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function re(e,t){return t.forEach((function(t){var r=t.path,n=t.op;r.length||S();for(var i=e,a=0;a<r.length-1;a++)if(!(i=x(i,r[a]))||"object"!=typeof i)throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var s=b(i),u=ne(t.value),c=r[r.length-1];switch(n){case"replace":switch(s){case o.Map:return i.set(c,u);case o.Set:throw new Error('Sets cannot have "replace" patches.');default:return i[c]=u}case"add":switch(s){case o.Array:return i.splice(c,0,u);case o.Map:return i.set(c,u);case o.Set:return i.add(u);default:return i[c]=u}case"remove":switch(s){case o.Array:return i.splice(c,1);case o.Map:return i.delete(c);case o.Set:return i.delete(t.value);default:return delete i[c]}default:throw new Error("Unsupported patch operation: "+n)}})),e}function ne(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ne);if(k(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],ne(e[1])]})));if(P(e))return new Set(Array.from(e).map(ne));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=ne(e[r]);return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function oe(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}var ie={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},ae=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,m(ie,(function(r,n){var o,i;t[r]=null!=(i=null===(o=e)||void 0===o?void 0:o[r])?i:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,o=this;if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var r=arguments,n=this;void 0===e&&(e=i);for(var o=[],s=1;s<arguments.length;s++)o[s-1]=r[s];return a.produce(e,(function(e){return t.call.apply(t,oe([n,e],o))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(y(e)){var s=D.enter(this),u=this.createProxy(e,void 0),f=!0;try{n=t(u),f=!1}finally{f?s.revoke():s.leave()}return"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return s.usePatches(r),C(o,e,s)}),(function(e){throw s.revoke(),e})):(s.usePatches(r),C(this,n,s))}if((n=t(e))!==c)return void 0===n&&(n=e),R(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,o,i=this;return"function"==typeof e?function(t){for(var r=arguments,n=[],o=1;o<arguments.length;o++)n[o-1]=r[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,oe([t],n))}))}:(r&&S(),[this.produce(e,t,(function(e,t){n=e,o=t})),n,o])},e.prototype.createDraft=function(e){if(!y(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=D.enter(this),r=this.createProxy(e,void 0);return r[l].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[l];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),C(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return p(e)?re(e,t):this.produce(e,(function(e){return re(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=k(e)?function(e,t){return new Q(e,t)}(e,t):P(e)?function(e,t){return new ee(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?i.ProxyArray:i.ProxyObject,scope:t?t.scope:D.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},o=n,a=T;r&&(o=[n],a=z);var s=Proxy.revocable(o,a),u=s.revoke,c=s.proxy;return n.draft=c,n.revoke=u,c}(e,t):J(e,t);return(t?t.scope:D.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||W(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?q(e):L(e)},e}()),se=ae.produce,ue=(ae.produceWithPatches.bind(ae),ae.setAutoFreeze.bind(ae),ae.setUseProxies.bind(ae),ae.applyPatches.bind(ae),ae.createDraft.bind(ae)),ce=ae.finishDraft.bind(ae)}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/slate/dist/index.es.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return W})),r.d(t,"b",(function(){return J})),r.d(t,"c",(function(){return L})),r.d(t,"d",(function(){return $})),r.d(t,"e",(function(){return Z})),r.d(t,"f",(function(){return Q})),r.d(t,"g",(function(){return te})),r.d(t,"h",(function(){return ie})),r.d(t,"i",(function(){return ve})),r.d(t,"j",(function(){return E}));var n=r("./node_modules/@babel/runtime/regenerator/index.js"),o=r.n(n),i=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=r.n(i),s=r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=r.n(s),c=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),f=r.n(c),l=r("./node_modules/@babel/runtime/helpers/typeof.js"),d=r.n(l);
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function h(e){return!0==(null!=(t=e)&&"object"===d()(t)&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}function v(e){var t,r;return!1!==h(e)&&("function"==typeof(t=e.constructor)&&(!1!==h(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}var p=r("./node_modules/immer/dist/immer.module.js"),y=r("./node_modules/esrever/esrever.js");function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=new WeakMap,b=new WeakMap,w=new WeakMap,x=new WeakMap,O=new WeakMap,k=new WeakMap;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(){var e={children:[],operations:[],selection:null,marks:null,isInline:function(){return!1},isVoid:function(){return!1},onChange:function(){},apply:function(t){var r=!0,n=!1,o=void 0;try{for(var i,a=W.pathRefs(e)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;Y.transform(s,t)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}var u=!0,c=!1,f=void 0;try{for(var l,d=W.pointRefs(e)[Symbol.iterator]();!(u=(l=d.next()).done);u=!0){var h=l.value;X.transform(h,t)}}catch(e){c=!0,f=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}var v=!0,p=!1,y=void 0;try{for(var g,w=W.rangeRefs(e)[Symbol.iterator]();!(v=(g=w.next()).done);v=!0){var x=g.value;re.transform(x,t)}}catch(e){p=!0,y=e}finally{try{v||null==w.return||w.return()}finally{if(p)throw y}}var O=new Set,k=[],P=function(e){if(e){var t=e.join(",");O.has(t)||(O.add(t),k.push(e))}},j=m.get(e)||[],E=F(t),A=!0,S=!1,D=void 0;try{for(var _,C=j[Symbol.iterator]();!(A=(_=C.next()).done);A=!0){var N=_.value;P(Z.transform(N,t))}}catch(e){S=!0,D=e}finally{try{A||null==C.return||C.return()}finally{if(S)throw D}}var B=!0,R=!1,T=void 0;try{for(var z,M=E[Symbol.iterator]();!(B=(z=M.next()).done);B=!0){P(z.value)}}catch(e){R=!0,T=e}finally{try{B||null==M.return||M.return()}finally{if(R)throw T}}m.set(e,k),W.transform(e,t),e.operations.push(t),W.normalize(e),"set_selection"===t.type&&(e.marks=null),b.get(e)||(b.set(e,!0),Promise.resolve().then((function(){b.set(e,!1),e.onChange(),e.operations=[]})))},addMark:function(t,r){var n=e.selection;if(n)if(te.isExpanded(n))ve.setNodes(e,f()({},t,r),{match:ie.isText,split:!0});else{var o=j({},W.marks(e)||{},f()({},t,r));e.marks=o,e.onChange()}},deleteBackward:function(t){var r=e.selection;r&&te.isCollapsed(r)&&ve.delete(e,{unit:t,reverse:!0})},deleteForward:function(t){var r=e.selection;r&&te.isCollapsed(r)&&ve.delete(e,{unit:t})},deleteFragment:function(){var t=e.selection;t&&te.isExpanded(t)&&ve.delete(e)},insertBreak:function(){ve.splitNodes(e,{always:!0})},insertFragment:function(t){ve.insertFragment(e,t)},insertNode:function(t){ve.insertNodes(e,t)},insertText:function(t){var r=e.selection,n=e.marks;if(r){if(te.isCollapsed(r)){var o=W.above(e,{match:function(t){return W.isInline(e,t)},mode:"highest"});if(o){var i=u()(o,2)[1];if(W.isEnd(e,r.anchor,i)){var a=W.after(e,i);ve.setSelection(e,{anchor:a,focus:a})}}}if(n){var s=j({text:t},n);ve.insertNodes(e,s)}else ve.insertText(e,t);e.marks=null}},normalizeNode:function(t){var r=u()(t,2),n=r[0],o=r[1];if(!ie.isText(n))if(J.isElement(n)&&0===n.children.length){ve.insertNodes(e,{text:""},{at:o.concat(0),voids:!0})}else for(var i=!W.isEditor(n)&&(J.isElement(n)&&(e.isInline(n)||0===n.children.length||ie.isText(n.children[0])||e.isInline(n.children[0]))),a=0,s=0;s<n.children.length;s++,a++){var c=n.children[s],f=n.children[s-1],l=s===n.children.length-1;if((ie.isText(c)||J.isElement(c)&&e.isInline(c))!==i)ve.removeNodes(e,{at:o.concat(a),voids:!0}),a--;else if(J.isElement(c)){if(e.isInline(c))if(null!=f&&ie.isText(f)){if(l){ve.insertNodes(e,{text:""},{at:o.concat(a+1),voids:!0}),a++}}else{ve.insertNodes(e,{text:""},{at:o.concat(a),voids:!0}),a++}}else null!=f&&ie.isText(f)&&(ie.equals(c,f,{loose:!0})?(ve.mergeNodes(e,{at:o.concat(a),voids:!0}),a--):""===f.text?(ve.removeNodes(e,{at:o.concat(a-1),voids:!0}),a--):l&&""===c.text&&(ve.removeNodes(e,{at:o.concat(a),voids:!0}),a--))}},removeMark:function(t){var r=e.selection;if(r)if(te.isExpanded(r))ve.unsetNodes(e,t,{match:ie.isText,split:!0});else{var n=j({},W.marks(e)||{});delete n[t],e.marks=n,e.onChange()}}};return e},F=function(e){switch(e.type){case"insert_text":case"remove_text":case"set_node":var t=e.path;return Z.levels(t);case"insert_node":var r=e.node,n=e.path,o=Z.levels(n),i=ie.isText(r)?[]:Array.from(L.nodes(r),(function(e){var t=u()(e,2)[1];return n.concat(t)}));return[].concat(a()(o),a()(i));case"merge_node":var s=e.path,c=Z.ancestors(s),f=Z.previous(s);return[].concat(a()(c),[f]);case"move_node":var l=e.path,d=e.newPath;if(Z.equals(l,d))return[];var h=[],v=[],p=!0,y=!1,g=void 0;try{for(var m,b=Z.ancestors(l)[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){var w=m.value,x=Z.transform(w,e);h.push(x)}}catch(e){y=!0,g=e}finally{try{p||null==b.return||b.return()}finally{if(y)throw g}}var O=!0,k=!1,P=void 0;try{for(var j,E=Z.ancestors(d)[Symbol.iterator]();!(O=(j=E.next()).done);O=!0){var F=j.value,A=Z.transform(F,e);v.push(A)}}catch(e){k=!0,P=e}finally{try{O||null==E.return||E.return()}finally{if(k)throw P}}return[].concat(h,v);case"remove_node":var S=e.path,D=Z.ancestors(S);return a()(D);case"split_node":var _=e.path,C=Z.levels(_),N=Z.next(_);return[].concat(a()(C),[N]);default:return[]}};function A(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var S=/\s/,D=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,_=/['\u2018\u2019]/,C=function(e){for(var t=0,r=null,n=e.charCodeAt(0);n;)if(R(n)){var o=T(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(M(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!z(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},N=function(e){for(var t,r=0,n=0,o=!1;t=e.charAt(n);){var i=C(t);t=e.slice(n,n+i);var a=e.slice(n+i);if(B(t,a))o=!0,r+=i;else{if(o)break;r+=i}n+=i}return r},B=function e(t,r){if(S.test(t))return!1;if(_.test(t)){var n=r.charAt(0),o=C(n);if(e(n=r.slice(0,o),r.slice(o)))return!0}return!D.test(t)},R=function(e){return 55296<=e&&e<=57343},T=function(e,t,r){if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},z=function(e){return e<=65039&&e>=65024},M=function(e){return 10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W={above:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.voids,n=void 0!==r&&r,o=t.mode,i=void 0===o?"lowest":o,a=t.at,s=void 0===a?e.selection:a,c=t.match;if(s){var f=W.path(e,s),l="lowest"===i,d=!0,h=!1,v=void 0;try{for(var p,y=W.levels(e,{at:f,voids:n,match:c,reverse:l})[Symbol.iterator]();!(d=(p=y.next()).done);d=!0){var g=u()(p.value,2),m=g[0],b=g[1];if(!ie.isText(m)&&!Z.equals(f,b))return[m,b]}}catch(e){h=!0,v=e}finally{try{d||null==y.return||y.return()}finally{if(h)throw v}}}},addMark:function(e,t,r){e.addMark(t,r)},after:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=W.point(e,t,{edge:"end"}),i=W.end(e,[]),a={anchor:o,focus:i},s=n.distance,u=void 0===s?1:s,c=0,f=!0,l=!1,d=void 0;try{for(var h,v=W.positions(e,I({},n,{at:a}))[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var p=h.value;if(c>u)break;0!==c&&(r=p),c++}}catch(e){l=!0,d=e}finally{try{f||null==v.return||v.return()}finally{if(l)throw d}}return r},before:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=W.start(e,[]),i=W.point(e,t,{edge:"start"}),a={anchor:o,focus:i},s=n.distance,u=void 0===s?1:s,c=0,f=!0,l=!1,d=void 0;try{for(var h,v=W.positions(e,I({},n,{at:a,reverse:!0}))[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var p=h.value;if(c>u)break;0!==c&&(r=p),c++}}catch(e){l=!0,d=e}finally{try{f||null==v.return||v.return()}finally{if(l)throw d}}return r},deleteBackward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unit,n=void 0===r?"character":r;e.deleteBackward(n)},deleteForward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unit,n=void 0===r?"character":r;e.deleteForward(n)},deleteFragment:function(e){e.deleteFragment()},edges:function(e,t){return[W.start(e,t),W.end(e,t)]},end:function(e,t){return W.point(e,t,{edge:"end"})},first:function(e,t){var r=W.path(e,t,{edge:"start"});return W.node(e,r)},fragment:function(e,t){var r=W.range(e,t),n=L.fragment(e,r);return n},hasBlocks:function(e,t){return t.children.some((function(t){return W.isBlock(e,t)}))},hasInlines:function(e,t){return t.children.some((function(t){return ie.isText(t)||W.isInline(e,t)}))},hasTexts:function(e,t){return t.children.every((function(e){return ie.isText(e)}))},insertBreak:function(e){e.insertBreak()},insertFragment:function(e,t){e.insertFragment(t)},insertNode:function(e,t){e.insertNode(t)},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return J.isElement(t)&&!e.isInline(t)},isEditor:function(e){return v(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||v(e.marks))&&(null===e.selection||te.isRange(e.selection))&&L.isNodeList(e.children)&&$.isOperationList(e.operations)},isEnd:function(e,t,r){var n=W.end(e,r);return Q.equals(t,n)},isEdge:function(e,t,r){return W.isStart(e,t,r)||W.isEnd(e,t,r)},isEmpty:function(e,t){var r=t.children,n=u()(r,1)[0];return 0===r.length||1===r.length&&ie.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:function(e,t){return J.isElement(t)&&e.isInline(t)},isNormalizing:function(e){var t=w.get(e);return void 0===t||t},isStart:function(e,t,r){if(0!==t.offset)return!1;var n=W.start(e,r);return Q.equals(t,n)},isVoid:function(e,t){return J.isElement(t)&&e.isVoid(t)},last:function(e,t){var r=W.path(e,t,{edge:"end"});return W.node(e,r)},leaf:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=W.path(e,t,r),o=L.leaf(e,n);return[o,n]},levels:function(e){var t=arguments;return(o.a.mark((function r(){var n,i,a,s,c,f,l,d,h,v,p,y,g,m,b,w,x,O;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:{},i=n.at,a=void 0===i?e.selection:i,s=n.reverse,c=void 0!==s&&s,f=n.voids,l=void 0!==f&&f,null==(d=n.match)&&(d=function(){return!0}),a){r.next=6;break}return r.abrupt("return");case 6:h=[],v=W.path(e,a),p=!0,y=!1,g=void 0,r.prev=11,m=L.levels(e,v)[Symbol.iterator]();case 13:if(p=(b=m.next()).done){r.next=23;break}if(w=u()(b.value,2),x=w[0],O=w[1],d(x)){r.next=17;break}return r.abrupt("continue",20);case 17:if(h.push([x,O]),l||!W.isVoid(e,x)){r.next=20;break}return r.abrupt("break",23);case 20:p=!0,r.next=13;break;case 23:r.next=29;break;case 25:r.prev=25,r.t0=r.catch(11),y=!0,g=r.t0;case 29:r.prev=29,r.prev=30,p||null==m.return||m.return();case 32:if(r.prev=32,!y){r.next=35;break}throw g;case 35:return r.finish(32);case 36:return r.finish(29);case 37:return c&&h.reverse(),r.delegateYield(h,"t1",39);case 39:case"end":return r.stop()}}),r,null,[[11,25,29,37],[30,,32,36]])}))())},marks:function(e){var t=e.marks,r=e.selection;if(!r)return null;if(t)return t;if(te.isExpanded(r)){var n=W.nodes(e,{match:ie.isText}),o=u()(n,1)[0];return o?A(u()(o,1)[0],["text"]):{}}var i=r.anchor,a=i.path,s=W.leaf(e,a),c=u()(s,1)[0];if(0===i.offset){var f=W.previous(e,{at:a,match:ie.isText}),l=W.above(e,{match:function(t){return W.isBlock(e,t)}});if(f&&l){var d=u()(f,2),h=d[0],v=d[1],p=u()(l,2)[1];Z.isAncestor(p,v)&&(c=h)}}return A(c,["text"])},next:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mode,n=void 0===r?"lowest":r,o=t.voids,i=void 0!==o&&o,a=t.match,s=t.at,c=void 0===s?e.selection:s;if(c){var f=W.last(e,c),l=u()(f,2),d=l[1],h=W.last(e,[]),v=u()(h,2),p=v[1],y=[d,p];if(Z.isPath(c)&&0===c.length)throw new Error("Cannot get the next node from the root node!");if(null==a)if(Z.isPath(c)){var g=W.parent(e,c),m=u()(g,1),b=m[0];a=function(e){return b.children.includes(e)}}else a=function(){return!0};var w=W.nodes(e,{at:y,match:a,mode:n,voids:i}),x=u()(w,2),O=x[1];return O}},node:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=W.path(e,t,r),o=L.get(e,n);return[o,n]},nodes:function(e){var t=arguments;return(o.a.mark((function r(){var n,i,a,s,c,f,l,d,h,v,p,y,g,m,b,w,x,O,k,P,j,E,F,A,S,D,_,C,N;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:{},i=n.at,a=void 0===i?e.selection:i,s=n.mode,c=void 0===s?"all":s,f=n.universal,l=void 0!==f&&f,d=n.reverse,h=void 0!==d&&d,v=n.voids,p=void 0!==v&&v,(y=n.match)||(y=function(){return!0}),a){r.next=6;break}return r.abrupt("return");case 6:V.isSpan(a)?(g=a[0],m=a[1]):(b=W.path(e,a,{edge:"start"}),w=W.path(e,a,{edge:"end"}),g=h?w:b,m=h?b:w),x=L.nodes(e,{reverse:h,from:g,to:m,pass:function(t){var r=u()(t,1)[0];return!p&&W.isVoid(e,r)}}),O=[],P=!0,j=!1,E=void 0,r.prev=12,F=x[Symbol.iterator]();case 14:if(P=(A=F.next()).done){r.next=40;break}if(S=u()(A.value,2),D=S[0],_=S[1],C=k&&0===Z.compare(_,k[1]),"highest"!==c||!C){r.next=19;break}return r.abrupt("continue",37);case 19:if(y(D)){r.next=25;break}if(!l||C||!ie.isText(D)){r.next=24;break}return r.abrupt("return");case 24:return r.abrupt("continue",37);case 25:if("lowest"!==c||!C){r.next=28;break}return k=[D,_],r.abrupt("continue",37);case 28:if(!(N="lowest"===c?k:[D,_])){r.next=36;break}if(!l){r.next=34;break}O.push(N),r.next=36;break;case 34:return r.next=36,N;case 36:k=[D,_];case 37:P=!0,r.next=14;break;case 40:r.next=46;break;case 42:r.prev=42,r.t0=r.catch(12),j=!0,E=r.t0;case 46:r.prev=46,r.prev=47,P||null==F.return||F.return();case 49:if(r.prev=49,!j){r.next=52;break}throw E;case 52:return r.finish(49);case 53:return r.finish(46);case 54:if("lowest"!==c||!k){r.next=61;break}if(!l){r.next=59;break}O.push(k),r.next=61;break;case 59:return r.next=61,k;case 61:if(!l){r.next=63;break}return r.delegateYield(O,"t1",63);case 63:case"end":return r.stop()}}),r,null,[[12,42,46,54],[47,,49,53]])}))())},normalize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,o=function(e){return m.get(e)||[]};if(W.isNormalizing(e)){if(n){var i=Array.from(L.nodes(e),(function(e){return u()(e,2)[1]}));m.set(e,i)}0!==o(e).length&&W.withoutNormalizing(e,(function(){for(var t=42*o(e).length,r=0;0!==o(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var n=o(e).pop(),i=W.node(e,n);e.normalizeNode(i),r++}}))}},parent:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=W.path(e,t,r),o=Z.parent(n),i=W.node(e,o);return i},path:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.depth,o=r.edge;if(Z.isPath(t))if("start"===o){var i=L.first(e,t),a=u()(i,2),s=a[1];t=s}else if("end"===o){var c=L.last(e,t),f=u()(c,2),l=f[1];t=l}return te.isRange(t)&&(t="start"===o?te.start(t):"end"===o?te.end(t):Z.common(t.anchor.path,t.focus.path)),Q.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,o=void 0===n?"forward":n,i={current:t,affinity:o,unref:function(){var t=i.current;return W.pathRefs(e).delete(i),i.current=null,t}},a=W.pathRefs(e);return a.add(i),i},pathRefs:function(e){var t=x.get(e);return t||(t=new Set,x.set(e,t)),t},point:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.edge,o=void 0===n?"start":n;if(Z.isPath(t)){var i;if("end"===o){var a=L.last(e,t),s=u()(a,2),c=s[1];i=c}else{var f=L.first(e,t),l=u()(f,2),d=l[1];i=d}var h=L.get(e,i);if(!ie.isText(h))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(t,"] because it has no ").concat(o," text node."));return{path:i,offset:"end"===o?h.text.length:0}}if(te.isRange(t)){var v=te.edges(t),p=u()(v,2),y=p[0],g=p[1];return"start"===o?y:g}return t},pointRef:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,o=void 0===n?"forward":n,i={current:t,affinity:o,unref:function(){var t=i.current;return W.pointRefs(e).delete(i),i.current=null,t}},a=W.pointRefs(e);return a.add(i),i},pointRefs:function(e){var t=O.get(e);return t||(t=new Set,O.set(e,t)),t},positions:function(e){var t=arguments;return(o.a.mark((function r(){var n,i,a,s,c,f,l,d,h,v,p,g,m,b,w,x,O,k,P,j,E,F,A,S,D,_,B,R,T,z,M;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:{},i=n.at,a=void 0===i?e.selection:i,s=n.unit,c=void 0===s?"offset":s,f=n.reverse,l=void 0!==f&&f,a){r.next=4;break}return r.abrupt("return");case 4:d=W.range(e,a),h=te.edges(d),v=u()(h,2),p=v[0],g=v[1],m=l?g:p,b="",w=0,x=0,O=null,k=!1,P=function(){null==O&&(O="character"===c?C(b):"word"===c?N(b):"line"===c||"block"===c?b.length:1,b=b.slice(O)),x=l?x-O:x+O,O=(w-=O)>=0?null:0-w},j=!0,E=!1,F=void 0,r.prev=16,A=W.nodes(e,{at:a,reverse:l})[Symbol.iterator]();case 18:if(j=(S=A.next()).done){r.next=54;break}if(D=u()(S.value,2),_=D[0],B=D[1],!J.isElement(_)){r.next=28;break}if(!e.isVoid(_)){r.next=25;break}return r.next=24,W.start(e,B);case 24:return r.abrupt("continue",51);case 25:if(!e.isInline(_)){r.next=27;break}return r.abrupt("continue",51);case 27:W.hasInlines(e,_)&&(R=Z.isAncestor(B,g.path)?g:W.end(e,B),T=Z.isAncestor(B,p.path)?p:W.start(e,B),z=W.string(e,{anchor:T,focus:R}),b=l?Object(y.reverse)(z):z,k=!0);case 28:if(!ie.isText(_)){r.next=51;break}if(M=Z.equals(B,m.path),w=_.text.length,x=l?w:0,M&&(w=l?m.offset:w-m.offset,x=m.offset),!M&&!k&&"offset"!==c){r.next=36;break}return r.next=36,{path:B,offset:x};case 36:if(""!==b){r.next=41;break}return r.abrupt("break",50);case 41:P();case 42:if(!(w>=0)){r.next=47;break}return r.next=45,{path:B,offset:x};case 45:r.next=48;break;case 47:return r.abrupt("break",50);case 48:r.next=36;break;case 50:k=!1;case 51:j=!0,r.next=18;break;case 54:r.next=60;break;case 56:r.prev=56,r.t0=r.catch(16),E=!0,F=r.t0;case 60:r.prev=60,r.prev=61,j||null==A.return||A.return();case 63:if(r.prev=63,!E){r.next=66;break}throw F;case 66:return r.finish(63);case 67:return r.finish(60);case 68:case"end":return r.stop()}}),r,null,[[16,56,60,68],[61,,63,67]])}))())},previous:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mode,n=void 0===r?"lowest":r,o=t.voids,i=void 0!==o&&o,a=t.match,s=t.at,c=void 0===s?e.selection:s;if(c){var f=W.first(e,c),l=u()(f,2),d=l[1],h=W.first(e,[]),v=u()(h,2),p=v[1],y=[d,p];if(Z.isPath(c)&&0===c.length)throw new Error("Cannot get the previous node from the root node!");if(null==a)if(Z.isPath(c)){var g=W.parent(e,c),m=u()(g,1),b=m[0];a=function(e){return b.children.includes(e)}}else a=function(){return!0};var w=W.nodes(e,{reverse:!0,at:y,match:a,mode:n,voids:i}),x=u()(w,2),O=x[1];return O}},range:function(e,t,r){return te.isRange(t)&&!r?t:{anchor:W.start(e,t),focus:W.end(e,r||t)}},rangeRef:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,o=void 0===n?"forward":n,i={current:t,affinity:o,unref:function(){var t=i.current;return W.rangeRefs(e).delete(i),i.current=null,t}},a=W.rangeRefs(e);return a.add(i),i},rangeRefs:function(e){var t=k.get(e);return t||(t=new Set,k.set(e,t)),t},removeMark:function(e,t){e.removeMark(t)},start:function(e,t){return W.point(e,t,{edge:"start"})},string:function(e,t){var r=W.range(e,t),n=te.edges(r),o=u()(n,2),i=o[0],a=o[1],s="",c=!0,f=!1,l=void 0;try{for(var d,h=W.nodes(e,{at:r,match:ie.isText})[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=u()(d.value,2),p=v[0],y=v[1],g=p.text;Z.equals(y,a.path)&&(g=g.slice(0,a.offset)),Z.equals(y,i.path)&&(g=g.slice(i.offset)),s+=g}}catch(e){f=!0,l=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw l}}return s},transform:function(e,t){e.children=Object(p.a)(e.children);var r=e.selection&&Object(p.a)(e.selection);switch(t.type){case"insert_node":var n=t.path,o=t.node,i=L.parent(e,n),s=n[n.length-1];if(i.children.splice(s,0,o),r){var c=!0,f=!1,l=void 0;try{for(var d,h=te.points(r)[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=u()(d.value,2),y=v[0];r[v[1]]=Q.transform(y,t)}}catch(e){f=!0,l=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw l}}}break;case"insert_text":var g=t.path,m=t.offset,b=t.text,w=L.leaf(e,g),x=w.text.slice(0,m),O=w.text.slice(m);if(w.text=x+b+O,r){var k=!0,P=!1,j=void 0;try{for(var E,F=te.points(r)[Symbol.iterator]();!(k=(E=F.next()).done);k=!0){var A=u()(E.value,2),S=A[0];r[A[1]]=Q.transform(S,t)}}catch(e){P=!0,j=e}finally{try{k||null==F.return||F.return()}finally{if(P)throw j}}}break;case"merge_node":var D=t.path,_=L.get(e,D),C=Z.previous(D),N=L.get(e,C),B=L.parent(e,D),R=D[D.length-1];if(ie.isText(_)&&ie.isText(N))N.text+=_.text;else{if(ie.isText(_)||ie.isText(N))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(D,"] to nodes of different interaces: ").concat(_," ").concat(N));var T;(T=N.children).push.apply(T,a()(_.children))}if(B.children.splice(R,1),r){var z=!0,M=!1,q=void 0;try{for(var W,J=te.points(r)[Symbol.iterator]();!(z=(W=J.next()).done);z=!0){var V=u()(W.value,2),U=V[0];r[V[1]]=Q.transform(U,t)}}catch(e){M=!0,q=e}finally{try{z||null==J.return||J.return()}finally{if(M)throw q}}}break;case"move_node":var K=t.path,$=t.newPath;if(Z.isAncestor(K,$))throw new Error("Cannot move a path [".concat(K,"] to new path [").concat($,"] because the destination is inside itself."));var Y=L.get(e,K),G=L.parent(e,K),H=K[K.length-1];G.children.splice(H,1);var X=Z.transform(K,t),ee=L.get(e,Z.parent(X)),re=X[X.length-1];if(ee.children.splice(re,0,Y),r){var ne=!0,oe=!1,ae=void 0;try{for(var se,ue=te.points(r)[Symbol.iterator]();!(ne=(se=ue.next()).done);ne=!0){var ce=u()(se.value,2),fe=ce[0];r[ce[1]]=Q.transform(fe,t)}}catch(e){oe=!0,ae=e}finally{try{ne||null==ue.return||ue.return()}finally{if(oe)throw ae}}}break;case"remove_node":var le=t.path,de=le[le.length-1];if(L.parent(e,le).children.splice(de,1),r){var he=!0,ve=!1,pe=void 0;try{for(var ye,ge=te.points(r)[Symbol.iterator]();!(he=(ye=ge.next()).done);he=!0){var me=u()(ye.value,2),be=me[0],we=me[1],xe=Q.transform(be,t);if(null!=r&&null!=xe)r[we]=xe;else{var Oe=void 0,ke=void 0,Pe=!0,je=!1,Ee=void 0;try{for(var Fe,Ae=L.texts(e)[Symbol.iterator]();!(Pe=(Fe=Ae.next()).done);Pe=!0){var Se=u()(Fe.value,2),De=Se[0],_e=Se[1];if(-1!==Z.compare(_e,le)){ke=[De,_e];break}Oe=[De,_e]}}catch(e){je=!0,Ee=e}finally{try{Pe||null==Ae.return||Ae.return()}finally{if(je)throw Ee}}Oe?(be.path=Oe[1],be.offset=Oe[0].text.length):ke?(be.path=ke[1],be.offset=0):r=null}}}catch(e){ve=!0,pe=e}finally{try{he||null==ge.return||ge.return()}finally{if(ve)throw pe}}}break;case"remove_text":var Ce=t.path,Ne=t.offset,Be=t.text,Re=L.leaf(e,Ce),Te=Re.text.slice(0,Ne),ze=Re.text.slice(Ne+Be.length);if(Re.text=Te+ze,r){var Me=!0,qe=!1,Ie=void 0;try{for(var We,Je=te.points(r)[Symbol.iterator]();!(Me=(We=Je.next()).done);Me=!0){var Ve=u()(We.value,2),Le=Ve[0];r[Ve[1]]=Q.transform(Le,t)}}catch(e){qe=!0,Ie=e}finally{try{Me||null==Je.return||Je.return()}finally{if(qe)throw Ie}}}break;case"set_node":var Ue=t.path,Ke=t.newProperties;if(0===Ue.length)throw new Error("Cannot set properties on the root node!");var $e=L.get(e,Ue);for(var Ze in Ke){if("children"===Ze||"text"===Ze)throw new Error('Cannot set the "'.concat(Ze,'" property of nodes!'));var Ye=Ke[Ze];null==Ye?delete $e[Ze]:$e[Ze]=Ye}break;case"set_selection":var Ge=t.newProperties;if(null==Ge)r=Ge;else if(null==r){if(!te.isRange(Ge))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ge)," when there is no current selection."));r=Ge}else Object.assign(r,Ge);break;case"split_node":var He=t.path,Qe=t.position,Xe=t.properties;if(0===He.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(He,"] because the root node cannot be split."));var et,tt=L.get(e,He),rt=L.parent(e,He),nt=He[He.length-1];if(ie.isText(tt)){var ot=tt.text.slice(0,Qe),it=tt.text.slice(Qe);tt.text=ot,et=I({},tt,{},Xe,{text:it})}else{var at=tt.children.slice(0,Qe),st=tt.children.slice(Qe);tt.children=at,et=I({},tt,{},Xe,{children:st})}if(rt.children.splice(nt+1,0,et),r){var ut=!0,ct=!1,ft=void 0;try{for(var lt,dt=te.points(r)[Symbol.iterator]();!(ut=(lt=dt.next()).done);ut=!0){var ht=u()(lt.value,2),vt=ht[0];r[ht[1]]=Q.transform(vt,t)}}catch(e){ct=!0,ft=e}finally{try{ut||null==dt.return||dt.return()}finally{if(ct)throw ft}}}}e.children=Object(p.b)(e.children),e.selection=r?Object(p.c)(r)?Object(p.b)(r):r:null},unhangRange:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.voids,o=void 0!==n&&n,i=te.edges(t),a=u()(i,2),s=a[0],c=a[1];if(0!==s.offset||0!==c.offset||te.isCollapsed(t))return t;var f=W.above(e,{at:c,match:function(t){return W.isBlock(e,t)}}),l=f?f[1]:[],d=W.start(e,[]),h={anchor:d,focus:c},v=!0,p=!0,y=!1,g=void 0;try{for(var m,b=W.nodes(e,{at:h,match:ie.isText,reverse:!0,voids:o})[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){var w=u()(m.value,2),x=w[0],O=w[1];if(v)v=!1;else if(""!==x.text||Z.isBefore(O,l)){c={path:O,offset:x.text.length};break}}}catch(e){y=!0,g=e}finally{try{p||null==b.return||b.return()}finally{if(y)throw g}}return{anchor:s,focus:c}},void:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return W.above(e,I({},t,{match:function(t){return W.isVoid(e,t)}}))},withoutNormalizing:function(e,t){var r=W.isNormalizing(e);w.set(e,!1),t(),w.set(e,r),W.normalize(e)}},J={isElement:function(e){return v(e)&&L.isNodeList(e.children)&&!W.isEditor(e)},isElementList:function(e){return Array.isArray(e)&&(0===e.length||J.isElement(e[0]))},matches:function(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},V={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every(Z.isPath)}},L={ancestor:function(e,t){var r=L.get(e,t);if(ie.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},ancestors:function(e,t){var r=arguments;return(o.a.mark((function n(){var i,a,s,u,c,f,l,d,h;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=r.length>2&&void 0!==r[2]?r[2]:{},a=!0,s=!1,u=void 0,n.prev=4,c=Z.ancestors(t,i)[Symbol.iterator]();case 6:if(a=(f=c.next()).done){n.next=15;break}return l=f.value,d=L.ancestor(e,l),h=[d,l],n.next=12,h;case 12:a=!0,n.next=6;break;case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(4),s=!0,u=n.t0;case 21:n.prev=21,n.prev=22,a||null==c.return||c.return();case 24:if(n.prev=24,!s){n.next=27;break}throw u;case 27:return n.finish(24);case 28:return n.finish(21);case 29:case"end":return n.stop()}}),n,null,[[4,17,21,29],[22,,24,28]])}))())},child:function(e,t){if(ie.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},children:function(e,t){var r=arguments;return(o.a.mark((function n(){var i,a,s,u,c,f,l,d;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=r.length>2&&void 0!==r[2]?r[2]:{},a=i.reverse,s=void 0!==a&&a,u=L.ancestor(e,t),c=u.children,f=s?c.length-1:0;case 5:if(!(s?f>=0:f<c.length)){n.next=13;break}return l=L.child(u,f),d=t.concat(f),n.next=10,[l,d];case 10:f=s?f-1:f+1,n.next=5;break;case 13:case"end":return n.stop()}}),n)}))())},common:function(e,t,r){var n=Z.common(t,r);return[L.get(e,n),n]},descendant:function(e,t){var r=L.get(e,t);if(W.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},descendants:function(e){var t=arguments;return(o.a.mark((function r(){var n,i,a,s,c,f,l,d,h;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},i=!0,a=!1,s=void 0,r.prev=4,c=L.nodes(e,n)[Symbol.iterator]();case 6:if(i=(f=c.next()).done){r.next=14;break}if(l=u()(f.value,2),d=l[0],0===(h=l[1]).length){r.next=11;break}return r.next=11,[d,h];case 11:i=!0,r.next=6;break;case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(4),a=!0,s=r.t0;case 20:r.prev=20,r.prev=21,i||null==c.return||c.return();case 23:if(r.prev=23,!a){r.next=26;break}throw s;case 26:return r.finish(23);case 27:return r.finish(20);case 28:case"end":return r.stop()}}),r,null,[[4,16,20,28],[21,,23,27]])}))())},elements:function(e){var t=arguments;return(o.a.mark((function r(){var n,i,a,s,c,f,l,d,h;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},i=!0,a=!1,s=void 0,r.prev=4,c=L.nodes(e,n)[Symbol.iterator]();case 6:if(i=(f=c.next()).done){r.next=14;break}if(l=u()(f.value,2),d=l[0],h=l[1],!J.isElement(d)){r.next=11;break}return r.next=11,[d,h];case 11:i=!0,r.next=6;break;case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(4),a=!0,s=r.t0;case 20:r.prev=20,r.prev=21,i||null==c.return||c.return();case 23:if(r.prev=23,!a){r.next=26;break}throw s;case 26:return r.finish(23);case 27:return r.finish(20);case 28:case"end":return r.stop()}}),r,null,[[4,16,20,28],[21,,23,27]])}))())},first:function(e,t){for(var r=t.slice(),n=L.get(e,r);n&&!ie.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment:function(e,t){if(ie.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return Object(p.d)(e,(function(e){var r=te.edges(t),n=u()(r,2),o=n[0],i=n[1],a=L.nodes(e,{reverse:!0,pass:function(e){var r=u()(e,2)[1];return!te.includes(t,r)}}),s=!0,c=!1,f=void 0;try{for(var l,d=a[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var h=u()(l.value,2)[1];if(!te.includes(t,h)){var v=L.parent(e,h),p=h[h.length-1];v.children.splice(p,1)}if(Z.equals(h,i.path)){var y=L.leaf(e,h);y.text=y.text.slice(0,i.offset)}if(Z.equals(h,o.path)){var g=L.leaf(e,h);g.text=g.text.slice(o.offset)}}}catch(e){c=!0,f=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw f}}delete e.selection})).children},get:function(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(ie.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has:function(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(ie.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:function(e){return ie.isText(e)||J.isElement(e)||W.isEditor(e)},isNodeList:function(e){return Array.isArray(e)&&(0===e.length||L.isNode(e[0]))},last:function(e,t){for(var r=t.slice(),n=L.get(e,r);n&&!ie.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf:function(e,t){var r=L.get(e,t);if(!ie.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},levels:function(e,t){var r=arguments;return(o.a.mark((function n(){var i,a,s,u,c,f,l,d;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=r.length>2&&void 0!==r[2]?r[2]:{},a=!0,s=!1,u=void 0,n.prev=4,c=Z.levels(t,i)[Symbol.iterator]();case 6:if(a=(f=c.next()).done){n.next=14;break}return l=f.value,d=L.get(e,l),n.next=11,[d,l];case 11:a=!0,n.next=6;break;case 14:n.next=20;break;case 16:n.prev=16,n.t0=n.catch(4),s=!0,u=n.t0;case 20:n.prev=20,n.prev=21,a||null==c.return||c.return();case 23:if(n.prev=23,!s){n.next=26;break}throw u;case 26:return n.finish(23);case 27:return n.finish(20);case 28:case"end":return n.stop()}}),n,null,[[4,16,20,28],[21,,23,27]])}))())},matches:function(e,t){return J.isElement(e)&&J.matches(e,t)||ie.isText(e)&&ie.matches(e,t)},nodes:function(e){var t=arguments;return(o.a.mark((function r(){var n,i,a,s,u,c,f,l,d,h,v,p,y;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},i=n.pass,a=n.reverse,s=void 0!==a&&a,u=n.from,c=void 0===u?[]:u,f=n.to,l=new Set,d=[],h=e;case 6:if(!(f&&(s?Z.isBefore(d,f):Z.isAfter(d,f)))){r.next=9;break}return r.abrupt("break",37);case 9:if(l.has(h)){r.next=12;break}return r.next=12,[h,d];case 12:if(l.has(h)||ie.isText(h)||0===h.children.length||null!=i&&!1!==i([h,d])){r.next=19;break}return l.add(h),v=s?h.children.length-1:0,Z.isAncestor(d,c)&&(v=c[d.length]),d=d.concat(v),h=L.get(e,d),r.abrupt("continue",6);case 19:if(0!==d.length){r.next=21;break}return r.abrupt("break",37);case 21:if(s){r.next=27;break}if(p=Z.next(d),!L.has(e,p)){r.next=27;break}return d=p,h=L.get(e,d),r.abrupt("continue",6);case 27:if(!s||0===d[d.length-1]){r.next=32;break}return y=Z.previous(d),d=y,h=L.get(e,d),r.abrupt("continue",6);case 32:d=Z.parent(d),h=L.get(e,d),l.add(h),r.next=6;break;case 37:case"end":return r.stop()}}),r)}))())},parent:function(e,t){var r=Z.parent(t),n=L.get(e,r);if(ie.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:function(e){return ie.isText(e)?e.text:e.children.map(L.string).join("")},texts:function(e){var t=arguments;return(o.a.mark((function r(){var n,i,a,s,c,f,l,d,h;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},i=!0,a=!1,s=void 0,r.prev=4,c=L.nodes(e,n)[Symbol.iterator]();case 6:if(i=(f=c.next()).done){r.next=14;break}if(l=u()(f.value,2),d=l[0],h=l[1],!ie.isText(d)){r.next=11;break}return r.next=11,[d,h];case 11:i=!0,r.next=6;break;case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(4),a=!0,s=r.t0;case 20:r.prev=20,r.prev=21,i||null==c.return||c.return();case 23:if(r.prev=23,!a){r.next=26;break}throw s;case 26:return r.finish(23);case 27:return r.finish(20);case 28:case"end":return r.stop()}}),r,null,[[4,16,20,28],[21,,23,27]])}))())}};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $={isNodeOperation:function(e){return $.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!v(e))return!1;switch(e.type){case"insert_node":return Z.isPath(e.path)&&L.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Z.isPath(e.path);case"merge_node":return"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&Z.isPath(e.path)&&v(e.properties);case"move_node":return Z.isPath(e.path)&&Z.isPath(e.newPath);case"remove_node":return Z.isPath(e.path)&&L.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Z.isPath(e.path);case"set_node":return Z.isPath(e.path)&&v(e.properties)&&v(e.newProperties);case"set_selection":return null===e.properties&&te.isRange(e.newProperties)||null===e.newProperties&&te.isRange(e.properties)||v(e.properties)&&v(e.newProperties);case"split_node":return Z.isPath(e.path)&&"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&v(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&(0===e.length||$.isOperation(e[0]))},isSelectionOperation:function(e){return $.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return $.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return K({},e,{type:"remove_node"});case"insert_text":return K({},e,{type:"remove_text"});case"merge_node":return K({},e,{type:"split_node",path:Z.previous(e.path)});case"move_node":var t=e.newPath,r=e.path;return Z.equals(t,r)?e:K({},e,{path:Z.transform(r,e),newPath:Z.transform(Z.next(r),e)});case"remove_node":return K({},e,{type:"insert_node"});case"remove_text":return K({},e,{type:"insert_text"});case"set_node":var n=e.properties;return K({},e,{properties:e.newProperties,newProperties:n});case"set_selection":var o=e.properties,i=e.newProperties;return K({},e,null==o?{properties:i,newProperties:null}:null==i?{properties:null,newProperties:o}:{properties:i,newProperties:o});case"split_node":return K({},e,{type:"merge_node",path:Z.next(e.path)})}}},Z={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,o=Z.levels(e,t);return o=n?o.slice(1):o.slice(0,-1)},common:function(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare:function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter:function(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return Z.equals(n,o)&&i>a},endsAt:function(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return Z.equals(n,o)},endsBefore:function(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),i=e[r],a=t[r];return Z.equals(n,o)&&i<a},equals:function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))},isAfter:function(e,t){return 1===Z.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===Z.compare(e,t)},isBefore:function(e,t){return-1===Z.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===Z.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===Z.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===Z.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===Z.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&Z.equals(r,n)},levels:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,o=[],i=0;i<=e.length;i++)o.push(e.slice(0,i));return n&&o.reverse(),o},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!Z.isAncestor(t,e)&&!Z.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(p.d)(e,(function(n){var o=r.affinity,i=void 0===o?"forward":o;if(0!==e.length)switch(t.type){case"insert_node":var a=t.path;(Z.equals(a,n)||Z.endsBefore(a,n)||Z.isAncestor(a,n))&&(n[a.length-1]+=1);break;case"remove_node":var s=t.path;if(Z.equals(s,n)||Z.isAncestor(s,n))return null;Z.endsBefore(s,n)&&(n[s.length-1]-=1);break;case"merge_node":var u=t.path,c=t.position;Z.equals(u,n)||Z.endsBefore(u,n)?n[u.length-1]-=1:Z.isAncestor(u,n)&&(n[u.length-1]-=1,n[u.length]+=c);break;case"split_node":var f=t.path,l=t.position;if(Z.equals(f,n)){if("forward"===i)n[n.length-1]+=1;else if("backward"!==i)return null}else Z.endsBefore(f,n)?n[f.length-1]+=1:Z.isAncestor(f,n)&&e[f.length]>=l&&(n[f.length-1]+=1,n[f.length]-=l);break;case"move_node":var d=t.path,h=t.newPath;if(Z.equals(d,h))return;if(Z.isAncestor(d,n)||Z.equals(d,n)){var v=h.slice();if(Z.endsBefore(d,h)&&d.length<h.length)v[Math.min(h.length,d.length)-1]-=1;return v.concat(n.slice(d.length))}Z.endsBefore(h,n)||Z.equals(h,n)||Z.isAncestor(h,n)?(Z.endsBefore(d,n)&&(n[d.length-1]-=1),n[h.length-1]+=1):Z.endsBefore(d,n)&&(Z.equals(h,n)&&(n[h.length-1]+=1),n[d.length-1]-=1)}}))}},Y={transform:function(e,t){var r=e.current,n=e.affinity;if(null!=r){var o=Z.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q={compare:function(e,t){var r=Z.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:function(e,t){return 1===Q.compare(e,t)},isBefore:function(e,t){return-1===Q.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&Z.equals(e.path,t.path)},isPoint:function(e){return v(e)&&"number"==typeof e.offset&&Z.isPath(e.path)},transform:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(p.d)(e,(function(e){var n=r.affinity,o=void 0===n?"forward":n,i=e.path,a=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=Z.transform(i,t,r);break;case"insert_text":Z.equals(t.path,i)&&t.offset<=a&&(e.offset+=t.text.length);break;case"merge_node":Z.equals(t.path,i)&&(e.offset+=t.position),e.path=Z.transform(i,t,r);break;case"remove_text":Z.equals(t.path,i)&&t.offset<=a&&(e.offset-=Math.min(a-t.offset,t.text.length));break;case"remove_node":if(Z.equals(t.path,i)||Z.isAncestor(t.path,i))return null;e.path=Z.transform(i,t,r);break;case"split_node":if(Z.equals(t.path,i)){if(t.position===a&&null==o)return null;(t.position<a||t.position===a&&"forward"===o)&&(e.offset-=t.position,e.path=Z.transform(i,t,H({},r,{affinity:"forward"})))}else e.path=Z.transform(i,t,r)}}))}},X={transform:function(e,t){var r=e.current,n=e.affinity;if(null!=r){var o=Q.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var te={edges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,o=e.anchor,i=e.focus;return te.isBackward(e)===n?[o,i]:[i,o]},end:function(e){var t=te.edges(e),r=u()(t,2)[1];return r},equals:function(e,t){return Q.equals(e.anchor,t.anchor)&&Q.equals(e.focus,t.focus)},includes:function(e,t){if(te.isRange(t)){if(te.includes(e,t.anchor)||te.includes(e,t.focus))return!0;var r=te.edges(e),n=u()(r,2),o=n[0],i=n[1],a=te.edges(t),s=u()(a,2),c=s[0],f=s[1];return Q.isBefore(o,c)&&Q.isAfter(i,f)}var l=te.edges(e),d=u()(l,2),h=d[0],v=d[1],p=!1,y=!1;return Q.isPoint(t)?(p=Q.compare(t,h)>=0,y=Q.compare(t,v)<=0):(p=Z.compare(t,h.path)>=0,y=Z.compare(t,v.path)<=0),p&&y},intersection:function(e,t){var r=A(e,["anchor","focus"]),n=te.edges(e),o=u()(n,2),i=o[0],a=o[1],s=te.edges(t),c=u()(s,2),f=c[0],l=c[1],d=Q.isBefore(i,f)?f:i,h=Q.isBefore(a,l)?a:l;return Q.isBefore(h,d)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:d,focus:h},r)},isBackward:function(e){var t=e.anchor,r=e.focus;return Q.isAfter(t,r)},isCollapsed:function(e){var t=e.anchor,r=e.focus;return Q.equals(t,r)},isExpanded:function(e){return!te.isCollapsed(e)},isForward:function(e){return!te.isBackward(e)},isRange:function(e){return v(e)&&Q.isPoint(e.anchor)&&Q.isPoint(e.focus)},points:function(e){return o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,[e.anchor,"anchor"];case 2:return t.next=4,[e.focus,"focus"];case 4:case"end":return t.stop()}}),t)}))()},start:function(e){var t=te.edges(e),r=u()(t,1)[0];return r},transform:function(e,t,r){var n,o,i=r.affinity,a=void 0===i?"inward":i;return"inward"===a?te.isForward(e)?(n="forward",o="backward"):(n="backward",o="forward"):"outward"===a?te.isForward(e)?(n="backward",o="forward"):(n="forward",o="backward"):(n=a,o=a),Object(p.d)(e,(function(e){var r=Q.transform(e.anchor,t,{affinity:n}),i=Q.transform(e.focus,t,{affinity:o});if(!r||!i)return null;e.anchor=r,e.focus=i}))}},re={transform:function(e,t){var r=e.current,n=e.affinity;if(null!=r){var o=te.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie={equals:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.loose,o=void 0!==n&&n;for(var i in e)if((!o||"text"!==i)&&e[i]!==t[i])return!1;for(var a in t)if((!o||"text"!==a)&&e[a]!==t[a])return!1;return!0},isText:function(e){return v(e)&&"string"==typeof e.text},isTextList:function(e){return Array.isArray(e)&&(0===e.length||ie.isText(e[0]))},matches:function(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations:function(e,t){var r=[oe({},e)],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,f=A(c,["anchor","focus"]),l=te.edges(c),d=u()(l,2),h=d[0],v=d[1],p=[],y=0,g=!0,m=!1,b=void 0;try{for(var w,x=r[Symbol.iterator]();!(g=(w=x.next()).done);g=!0){var O=w.value,k=O.text.length,P=y;if(y+=k,h.offset<=P&&v.offset>=P+k)Object.assign(O,f),p.push(O);else if(h.offset>P+k||v.offset<P||v.offset===P&&0!==P)p.push(O);else{var j=O,E=void 0,F=void 0;if(v.offset<P+k){var S=v.offset-P;F=oe({},j,{text:j.text.slice(S)}),j=oe({},j,{text:j.text.slice(0,S)})}if(h.offset>P){var D=h.offset-P;E=oe({},j,{text:j.text.slice(0,D)}),j=oe({},j,{text:j.text.slice(D)})}Object.assign(j,f),E&&p.push(E),p.push(j),F&&p.push(F)}}}catch(e){m=!0,b=e}finally{try{g||null==x.return||x.return()}finally{if(m)throw b}}r=p}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe={insertNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.hanging,o=void 0!==n&&n,i=r.voids,a=void 0!==i&&i,s=r.mode,c=void 0===s?"lowest":s,f=r.at,l=r.match,d=r.select;if(L.isNode(t)&&(t=[t]),0!==t.length){var h=t,v=u()(h,1)[0];if(f||(f=e.selection?e.selection:e.children.length>0?W.end(e,[]):[0],d=!0),null==d&&(d=!1),te.isRange(f))if(o||(f=W.unhangRange(e,f)),te.isCollapsed(f))f=f.anchor;else{var p=te.edges(f),y=u()(p,2)[1],g=W.pointRef(e,y);ve.delete(e,{at:f}),f=g.unref()}if(Q.isPoint(f)){null==l&&(l=ie.isText(v)?function(e){return ie.isText(e)}:e.isInline(v)?function(t){return ie.isText(t)||W.isInline(e,t)}:function(t){return W.isBlock(e,t)});var m=W.nodes(e,{at:f.path,match:l,mode:c,voids:a}),b=u()(m,1)[0];if(!b)return;var w=u()(b,2)[1],x=W.pathRef(e,w),O=W.isEnd(e,f,w);ve.splitNodes(e,{at:f,match:l,mode:c,voids:a});var k=x.unref();f=O?Z.next(k):k}var P=Z.parent(f),j=f[f.length-1];if(a||!W.void(e,{at:P})){var E=!0,F=!1,A=void 0;try{for(var S,D=t[Symbol.iterator]();!(E=(S=D.next()).done);E=!0){var _=S.value,C=P.concat(j);j++,e.apply({type:"insert_node",path:C,node:_})}}catch(e){F=!0,A=e}finally{try{E||null==D.return||D.return()}finally{if(F)throw A}}if(d){var N=W.end(e,f);N&&ve.select(e,N)}}}}))},liftNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.at,n=void 0===r?e.selection:r,o=t.mode,i=void 0===o?"lowest":o,a=t.voids,s=void 0!==a&&a,c=t.match;if(null==c&&(c=Z.isPath(n)?de(e,n):function(t){return W.isBlock(e,t)}),n)for(var f=W.nodes(e,{at:n,match:c,mode:i,voids:s}),l=0,d=Array.from(f,(function(t){var r=u()(t,2)[1];return W.pathRef(e,r)}));l<d.length;l++){var h=d[l].unref();if(h.length<2)throw new Error("Cannot lift node at a path [".concat(h,"] because it has a depth of less than `2`."));var v=W.node(e,Z.parent(h)),p=u()(v,2),y=p[0],g=p[1],m=h[h.length-1],b=y.children.length;if(1===b){var w=Z.next(g);ve.moveNodes(e,{at:h,to:w,voids:s}),ve.removeNodes(e,{at:g,voids:s})}else if(0===m)ve.moveNodes(e,{at:h,to:g,voids:s});else if(m===b-1){var x=Z.next(g);ve.moveNodes(e,{at:h,to:x,voids:s})}else{var O=Z.next(h),k=Z.next(g);ve.splitNodes(e,{at:O,voids:s}),ve.moveNodes(e,{at:h,to:k,voids:s})}}}))},mergeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.match,n=t.at,o=void 0===n?e.selection:n,i=t.hanging,a=void 0!==i&&i,s=t.voids,c=void 0!==s&&s,f=t.mode,l=void 0===f?"lowest":f;if(o){if(null==r)if(Z.isPath(o)){var d=W.parent(e,o),h=u()(d,1)[0];r=function(e){return h.children.includes(e)}}else r=function(t){return W.isBlock(e,t)};if(!a&&te.isRange(o)&&(o=W.unhangRange(e,o)),te.isRange(o))if(te.isCollapsed(o))o=o.anchor;else{var v=te.edges(o),p=u()(v,2)[1],y=W.pointRef(e,p);ve.delete(e,{at:o}),o=y.unref(),null==t.at&&ve.select(e,o)}var g=W.nodes(e,{at:o,match:r,voids:c,mode:l}),m=u()(g,1)[0],b=W.previous(e,{at:o,match:r,voids:c,mode:l});if(m&&b){var w=u()(m,2),x=w[0],O=w[1],k=u()(b,2),P=k[0],j=k[1];if(0!==O.length&&0!==j.length){var E,F,S=Z.next(j),D=Z.common(O,j),_=Z.isSibling(O,j),C=Array.from(W.levels(e,{at:O}),(function(e){return u()(e,1)[0]})).slice(D.length).slice(0,-1),N=W.above(e,{at:O,mode:"highest",match:function(e){return C.includes(e)&&J.isElement(e)&&1===e.children.length}}),B=N&&W.pathRef(e,N[1]);if(ie.isText(x)&&ie.isText(P)){var R=A(x,["text"]);F=P.text.length,E=R}else{if(!J.isElement(x)||!J.isElement(P))throw new Error("Cannot merge the node at path [".concat(O,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(x)," ").concat(JSON.stringify(P)));R=A(x,["children"]);F=P.children.length,E=R}_||ve.moveNodes(e,{at:O,to:S,voids:c}),B&&ve.removeNodes(e,{at:B.current,voids:c}),J.isElement(P)&&W.isEmpty(e,P)||ie.isText(P)&&""===P.text?ve.removeNodes(e,{at:j,voids:c}):e.apply({type:"merge_node",path:S,position:F,target:null,properties:E}),B&&B.unref()}}}}))},moveNodes:function(e,t){W.withoutNormalizing(e,(function(){var r=t.to,n=t.at,o=void 0===n?e.selection:n,i=t.mode,a=void 0===i?"lowest":i,s=t.voids,c=void 0!==s&&s,f=t.match;if(o){null==f&&(f=Z.isPath(o)?de(e,o):function(t){return W.isBlock(e,t)});for(var l=W.pathRef(e,r),d=W.nodes(e,{at:o,match:f,mode:a,voids:c}),h=0,v=Array.from(d,(function(t){var r=u()(t,2)[1];return W.pathRef(e,r)}));h<v.length;h++){var p=v[h].unref(),y=l.current;0!==p.length&&e.apply({type:"move_node",path:p,newPath:y})}l.unref()}}))},removeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.hanging,n=void 0!==r&&r,o=t.voids,i=void 0!==o&&o,a=t.mode,s=void 0===a?"lowest":a,c=t.at,f=void 0===c?e.selection:c,l=t.match;if(f){null==l&&(l=Z.isPath(f)?de(e,f):function(t){return W.isBlock(e,t)}),!n&&te.isRange(f)&&(f=W.unhangRange(e,f));for(var d=W.nodes(e,{at:f,match:l,mode:s,voids:i}),h=0,v=Array.from(d,(function(t){var r=u()(t,2)[1];return W.pathRef(e,r)}));h<v.length;h++){var p=v[h].unref();if(p){var y=W.node(e,p),g=u()(y,1)[0];e.apply({type:"remove_node",path:p,node:g})}}}}))},setNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.match,o=r.at,i=void 0===o?e.selection:o,a=r.hanging,s=void 0!==a&&a,c=r.mode,f=void 0===c?"lowest":c,l=r.split,d=void 0!==l&&l,h=r.voids,v=void 0!==h&&h;if(i){if(null==n&&(n=Z.isPath(i)?de(e,i):function(t){return W.isBlock(e,t)}),!s&&te.isRange(i)&&(i=W.unhangRange(e,i)),d&&te.isRange(i)){var p=W.rangeRef(e,i,{affinity:"inward"}),y=te.edges(i),g=u()(y,2),m=g[0],b=g[1],w="lowest"===f?"lowest":"highest";ve.splitNodes(e,{at:b,match:n,mode:w,voids:v}),ve.splitNodes(e,{at:m,match:n,mode:w,voids:v}),i=p.unref(),null==r.at&&ve.select(e,i)}var x=!0,O=!1,k=void 0;try{for(var P,j=W.nodes(e,{at:i,match:n,mode:f,voids:v})[Symbol.iterator]();!(x=(P=j.next()).done);x=!0){var E=u()(P.value,2),F=E[0],A=E[1],S={},D={};if(0!==A.length){for(var _ in t)"children"!==_&&"text"!==_&&t[_]!==F[_]&&(S[_]=F[_],D[_]=t[_]);0!==Object.keys(D).length&&e.apply({type:"set_node",path:A,properties:S,newProperties:D})}}}catch(e){O=!0,k=e}finally{try{x||null==j.return||j.return()}finally{if(O)throw k}}}}))},splitNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.mode,n=void 0===r?"lowest":r,o=t.voids,i=void 0!==o&&o,a=t.match,s=t.at,c=void 0===s?e.selection:s,f=t.height,l=void 0===f?0:f,d=t.always,h=void 0!==d&&d;if(null==a&&(a=function(t){return W.isBlock(e,t)}),te.isRange(c)&&(c=le(e,c)),Z.isPath(c)){var v=c,p=W.point(e,v),y=W.parent(e,v),g=u()(y,1)[0];a=function(e){return e===g},l=p.path.length-v.length+1,c=p,h=!0}if(c){var m=W.pointRef(e,c,{affinity:"backward"}),b=W.nodes(e,{at:c,match:a,mode:n,voids:i}),w=u()(b,1)[0];if(w){var x=W.void(e,{at:c,mode:"highest"});if(!i&&x){var O=u()(x,2),k=O[0],P=O[1];if(J.isElement(k)&&e.isInline(k)){var j=W.after(e,P);if(!j){var E=Z.next(P);ve.insertNodes(e,{text:""},{at:E,voids:i}),j=W.point(e,E)}c=j,h=!0}l=c.path.length-P.length+1,h=!0}var F=W.pointRef(e,c),S=c.path.length-l,D=u()(w,2)[1],_=c.path.slice(0,S),C=0===l?c.offset:c.path[S]+0,N=null,B=!0,R=!1,T=void 0;try{for(var z,M=W.levels(e,{at:_,reverse:!0,voids:i})[Symbol.iterator]();!(B=(z=M.next()).done);B=!0){var q=u()(z.value,2),I=q[0],V=q[1],L=!1;if(V.length<D.length||0===V.length||!i&&W.isVoid(e,I))break;var U=m.current,K=W.isEnd(e,U,V);if(h||!m||!W.isEdge(e,U,V)){L=!0;var $=A(I,["text","children"]);e.apply({type:"split_node",path:V,position:C,target:N,properties:$})}N=C,C=V[V.length-1]+(L||K?1:0)}}catch(e){R=!0,T=e}finally{try{B||null==M.return||M.return()}finally{if(R)throw T}}if(null==t.at){var Y=F.current||W.end(e,[]);ve.select(e,Y)}m.unref(),F.unref()}}}))},unsetNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={},o=!0,i=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;n[c]=null}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}ve.setNodes(e,n,r)},unwrapNodes:function(e,t){W.withoutNormalizing(e,(function(){var r=t.mode,n=void 0===r?"lowest":r,o=t.split,i=void 0!==o&&o,a=t.voids,s=void 0!==a&&a,c=t.at,f=void 0===c?e.selection:c,l=t.match;if(f){null==l&&(l=Z.isPath(f)?de(e,f):function(t){return W.isBlock(e,t)}),Z.isPath(f)&&(f=W.range(e,f));for(var d=te.isRange(f)?W.rangeRef(e,f):null,h=W.nodes(e,{at:f,match:l,mode:n,voids:s}),v=function(t){var r=t.unref(),n=W.node(e,r),o=u()(n,1)[0],a=W.range(e,r);i&&d&&(a=te.intersection(d.current,a)),ve.liftNodes(e,{at:a,match:function(e){return o.children.includes(e)},voids:s})},p=0,y=Array.from(h,(function(t){var r=u()(t,2)[1];return W.pathRef(e,r)}));p<y.length;p++){v(y[p])}d&&d.unref()}}))},wrapNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.mode,o=void 0===n?"lowest":n,i=r.split,a=void 0!==i&&i,s=r.voids,c=void 0!==s&&s,f=r.match,l=r.at,d=void 0===l?e.selection:l;if(d){if(null==f&&(f=Z.isPath(d)?de(e,d):e.isInline(t)?function(t){return W.isInline(e,t)||ie.isText(t)}:function(t){return W.isBlock(e,t)}),a&&te.isRange(d)){var h=te.edges(d),v=u()(h,2),p=v[0],y=v[1],g=W.rangeRef(e,d,{affinity:"inward"});ve.splitNodes(e,{at:y,match:f,voids:c}),ve.splitNodes(e,{at:p,match:f,voids:c}),d=g.unref(),null==r.at&&ve.select(e,d)}for(var m=0,b=Array.from(W.nodes(e,{at:d,match:e.isInline(t)?function(t){return W.isBlock(e,t)}:function(e){return W.isEditor(e)},mode:"highest",voids:c}));m<b.length;m++){var w=u()(b[m],2)[1],x=te.isRange(d)?te.intersection(d,W.range(e,w)):d;if(x){var O=Array.from(W.nodes(e,{at:x,match:f,mode:o,voids:c}));O.length>0&&function(){var r=u()(O,1)[0],n=O[O.length-1],o=u()(r,2)[1],i=u()(n,2)[1],a=Z.equals(o,i)?Z.parent(o):Z.common(o,i),s=W.range(e,o,i),f=W.node(e,a),l=u()(f,1)[0],d=a.length+1,h=Z.next(i.slice(0,d)),v=ce({},t,{children:[]});ve.insertNodes(e,v,{at:h,voids:c}),ve.moveNodes(e,{at:s,match:function(e){return l.children.includes(e)},to:h.concat(0),voids:c})}()}}}}))}},le=function(e,t){if(te.isCollapsed(t))return t.anchor;var r=te.edges(t),n=u()(r,2)[1],o=W.pointRef(e,n);return ve.delete(e,{at:t}),o.unref()},de=function(e,t){var r=W.node(e,t),n=u()(r,1)[0];return function(e){return e===n}};function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ve=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform:function(e,t){e.children=Object(p.a)(e.children);var r=e.selection&&Object(p.a)(e.selection);switch(t.type){case"insert_node":var n=t.path,o=t.node,i=L.parent(e,n),s=n[n.length-1];if(i.children.splice(s,0,o),r){var c=!0,f=!1,l=void 0;try{for(var d,h=te.points(r)[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=u()(d.value,2),y=v[0];r[v[1]]=Q.transform(y,t)}}catch(e){f=!0,l=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw l}}}break;case"insert_text":var g=t.path,m=t.offset,b=t.text,w=L.leaf(e,g),x=w.text.slice(0,m),O=w.text.slice(m);if(w.text=x+b+O,r){var k=!0,P=!1,j=void 0;try{for(var E,F=te.points(r)[Symbol.iterator]();!(k=(E=F.next()).done);k=!0){var A=u()(E.value,2),S=A[0];r[A[1]]=Q.transform(S,t)}}catch(e){P=!0,j=e}finally{try{k||null==F.return||F.return()}finally{if(P)throw j}}}break;case"merge_node":var D=t.path,_=L.get(e,D),C=Z.previous(D),N=L.get(e,C),B=L.parent(e,D),R=D[D.length-1];if(ie.isText(_)&&ie.isText(N))N.text+=_.text;else{if(ie.isText(_)||ie.isText(N))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(D,"] to nodes of different interaces: ").concat(_," ").concat(N));var T;(T=N.children).push.apply(T,a()(_.children))}if(B.children.splice(R,1),r){var z=!0,M=!1,q=void 0;try{for(var I,W=te.points(r)[Symbol.iterator]();!(z=(I=W.next()).done);z=!0){var J=u()(I.value,2),V=J[0];r[J[1]]=Q.transform(V,t)}}catch(e){M=!0,q=e}finally{try{z||null==W.return||W.return()}finally{if(M)throw q}}}break;case"move_node":var U=t.path,K=t.newPath;if(Z.isAncestor(U,K))throw new Error("Cannot move a path [".concat(U,"] to new path [").concat(K,"] because the destination is inside itself."));var $=L.get(e,U),Y=L.parent(e,U),G=U[U.length-1];Y.children.splice(G,1);var H=Z.transform(U,t),X=L.get(e,Z.parent(H)),ee=H[H.length-1];if(X.children.splice(ee,0,$),r){var re=!0,ne=!1,oe=void 0;try{for(var ae,ue=te.points(r)[Symbol.iterator]();!(re=(ae=ue.next()).done);re=!0){var ce=u()(ae.value,2),fe=ce[0];r[ce[1]]=Q.transform(fe,t)}}catch(e){ne=!0,oe=e}finally{try{re||null==ue.return||ue.return()}finally{if(ne)throw oe}}}break;case"remove_node":var le=t.path,de=le[le.length-1];if(L.parent(e,le).children.splice(de,1),r){var he=!0,ve=!1,pe=void 0;try{for(var ye,ge=te.points(r)[Symbol.iterator]();!(he=(ye=ge.next()).done);he=!0){var me=u()(ye.value,2),be=me[0],we=me[1],xe=Q.transform(be,t);if(null!=r&&null!=xe)r[we]=xe;else{var Oe=void 0,ke=void 0,Pe=!0,je=!1,Ee=void 0;try{for(var Fe,Ae=L.texts(e)[Symbol.iterator]();!(Pe=(Fe=Ae.next()).done);Pe=!0){var Se=u()(Fe.value,2),De=Se[0],_e=Se[1];if(-1!==Z.compare(_e,le)){ke=[De,_e];break}Oe=[De,_e]}}catch(e){je=!0,Ee=e}finally{try{Pe||null==Ae.return||Ae.return()}finally{if(je)throw Ee}}Oe?(be.path=Oe[1],be.offset=Oe[0].text.length):ke?(be.path=ke[1],be.offset=0):r=null}}}catch(e){ve=!0,pe=e}finally{try{he||null==ge.return||ge.return()}finally{if(ve)throw pe}}}break;case"remove_text":var Ce=t.path,Ne=t.offset,Be=t.text,Re=L.leaf(e,Ce),Te=Re.text.slice(0,Ne),ze=Re.text.slice(Ne+Be.length);if(Re.text=Te+ze,r){var Me=!0,qe=!1,Ie=void 0;try{for(var We,Je=te.points(r)[Symbol.iterator]();!(Me=(We=Je.next()).done);Me=!0){var Ve=u()(We.value,2),Le=Ve[0];r[Ve[1]]=Q.transform(Le,t)}}catch(e){qe=!0,Ie=e}finally{try{Me||null==Je.return||Je.return()}finally{if(qe)throw Ie}}}break;case"set_node":var Ue=t.path,Ke=t.newProperties;if(0===Ue.length)throw new Error("Cannot set properties on the root node!");var $e=L.get(e,Ue);for(var Ze in Ke){if("children"===Ze||"text"===Ze)throw new Error('Cannot set the "'.concat(Ze,'" property of nodes!'));var Ye=Ke[Ze];null==Ye?delete $e[Ze]:$e[Ze]=Ye}break;case"set_selection":var Ge=t.newProperties;if(null==Ge)r=Ge;else if(null==r){if(!te.isRange(Ge))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ge)," when there is no current selection."));r=Ge}else Object.assign(r,Ge);break;case"split_node":var He=t.path,Qe=t.position,Xe=t.properties;if(0===He.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(He,"] because the root node cannot be split."));var et,tt=L.get(e,He),rt=L.parent(e,He),nt=He[He.length-1];if(ie.isText(tt)){var ot=tt.text.slice(0,Qe),it=tt.text.slice(Qe);tt.text=ot,et=se({},tt,{},Xe,{text:it})}else{var at=tt.children.slice(0,Qe),st=tt.children.slice(Qe);tt.children=at,et=se({},tt,{},Xe,{children:st})}if(rt.children.splice(nt+1,0,et),r){var ut=!0,ct=!1,ft=void 0;try{for(var lt,dt=te.points(r)[Symbol.iterator]();!(ut=(lt=dt.next()).done);ut=!0){var ht=u()(lt.value,2),vt=ht[0];r[ht[1]]=Q.transform(vt,t)}}catch(e){ct=!0,ft=e}finally{try{ut||null==dt.return||dt.return()}finally{if(ct)throw ft}}}}e.children=Object(p.b)(e.children),e.selection=r?Object(p.c)(r)?Object(p.b)(r):r:null}},{},fe,{},{collapse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.edge,n=void 0===r?"anchor":r,o=e.selection;if(o)if("anchor"===n)ve.select(e,o.anchor);else if("focus"===n)ve.select(e,o.focus);else if("start"===n){var i=te.edges(o),a=u()(i,1),s=a[0];ve.select(e,s)}else if("end"===n){var c=te.edges(o),f=u()(c,2),l=f[1];ve.select(e,l)}},deselect:function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.selection,n=t.distance,o=void 0===n?1:n,i=t.unit,a=void 0===i?"character":i,s=t.reverse,u=void 0!==s&&s,c=t.edge,f=void 0===c?null:c;if(r){"start"===f&&(f=te.isBackward(r)?"focus":"anchor"),"end"===f&&(f=te.isBackward(r)?"anchor":"focus");var l=r.anchor,d=r.focus,h={distance:o,unit:a},v={};if(null==f||"anchor"===f){var p=u?W.before(e,l,h):W.after(e,l,h);p&&(v.anchor=p)}if(null==f||"focus"===f){var y=u?W.before(e,d,h):W.after(e,d,h);y&&(v.focus=y)}ve.setSelection(e,v)}},select:function(e,t){var r=e.selection;if(t=W.range(e,t),r)ve.setSelection(e,t);else{if(!te.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint:function(e,t,r){var n=e.selection,o=r.edge,i=void 0===o?"both":o;if(n){"start"===i&&(i=te.isBackward(n)?"focus":"anchor"),"end"===i&&(i=te.isBackward(n)?"anchor":"focus");var a=n.anchor,s=n.focus,u="anchor"===i?a:s,c=Object.assign(u,t);"anchor"===i?ve.setSelection(e,{anchor:c}):ve.setSelection(e,{focus:c})}},setSelection:function(e,t){var r=e.selection,n={},o={};if(r){for(var i in t)("anchor"===i&&null!=t.anchor&&!Q.equals(t.anchor,r.anchor)||"focus"===i&&null!=t.focus&&!Q.equals(t.focus,r.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==r[i])&&(n[i]=r[i],o[i]=t[i]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},{},{delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.withoutNormalizing(e,(function(){var r=t.reverse,n=void 0!==r&&r,o=t.unit,i=void 0===o?"character":o,a=t.distance,s=void 0===a?1:a,c=t.voids,f=void 0!==c&&c,l=t.at,d=void 0===l?e.selection:l,h=t.hanging,v=void 0!==h&&h;if(d){if(te.isRange(d)&&te.isCollapsed(d)&&(d=d.anchor),Q.isPoint(d)){var p=W.void(e,{at:d,mode:"highest"});if(!f&&p){d=u()(p,2)[1]}else{var y={unit:i,distance:s};d={anchor:d,focus:n?W.before(e,d,y)||W.start(e,[]):W.after(e,d,y)||W.end(e,[])},v=!0}}if(Z.isPath(d))ve.removeNodes(e,{at:d,voids:f});else if(!te.isCollapsed(d)){v||(d=W.unhangRange(e,d,{voids:f}));var g=te.edges(d),m=u()(g,2),b=m[0],w=m[1],x=W.above(e,{match:function(t){return W.isBlock(e,t)},at:b,voids:f}),O=W.above(e,{match:function(t){return W.isBlock(e,t)},at:w,voids:f}),k=x&&O&&!Z.equals(x[1],O[1]),P=Z.equals(b.path,w.path),j=f?null:W.void(e,{at:b,mode:"highest"}),E=f?null:W.void(e,{at:w,mode:"highest"});if(j){var F=W.before(e,b);F&&x&&Z.isAncestor(x[1],F.path)&&(b=F)}if(E){var A=W.after(e,w);A&&O&&Z.isAncestor(O[1],A.path)&&(w=A)}var S,D=[],_=!0,C=!1,N=void 0;try{for(var B,R=W.nodes(e,{at:d,voids:f})[Symbol.iterator]();!(_=(B=R.next()).done);_=!0){var T=B.value,z=u()(T,2),M=z[0],q=z[1];S&&0===Z.compare(q,S)||(!f&&W.isVoid(e,M)||!Z.isCommon(q,b.path)&&!Z.isCommon(q,w.path))&&(D.push(T),S=q)}}catch(e){C=!0,N=e}finally{try{_||null==R.return||R.return()}finally{if(C)throw N}}var I=Array.from(D,(function(t){var r=u()(t,2)[1];return W.pathRef(e,r)})),J=W.pointRef(e,b),V=W.pointRef(e,w);if(!P&&!j){var L=J.current,U=W.leaf(e,L),K=u()(U,1)[0],$=L.path,Y=b.offset,G=K.text.slice(Y);e.apply({type:"remove_text",path:$,offset:Y,text:G})}for(var H=0,X=I;H<X.length;H++){var ee=X[H].unref();ve.removeNodes(e,{at:ee,voids:f})}if(!E){var re=V.current,ne=W.leaf(e,re),oe=u()(ne,1)[0],ie=re.path,ae=P?b.offset:0,se=oe.text.slice(ae,w.offset);e.apply({type:"remove_text",path:ie,offset:ae,text:se})}!P&&k&&V.current&&J.current&&ve.mergeNodes(e,{at:V.current,hanging:!0,voids:f});var ue=V.unref()||J.unref();null==t.at&&ue&&ve.select(e,ue)}}}))},insertFragment:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.hanging,o=void 0!==n&&n,i=r.voids,a=void 0!==i&&i,s=r.at,c=void 0===s?e.selection:s;if(t.length&&c){if(te.isRange(c))if(o||(c=W.unhangRange(e,c)),te.isCollapsed(c))c=c.anchor;else{var f=te.edges(c),l=u()(f,2)[1];if(!a&&W.void(e,{at:l}))return;var d=W.pointRef(e,l);ve.delete(e,{at:c}),c=d.unref()}else Z.isPath(c)&&(c=W.start(e,c));if(a||!W.void(e,{at:c})){var h=W.above(e,{at:c,match:function(t){return W.isInline(e,t)},mode:"highest",voids:a});if(h){var v=u()(h,2)[1];if(W.isEnd(e,c,v))c=W.after(e,v);else if(W.isStart(e,c,v)){c=W.before(e,v)}}var p=W.above(e,{match:function(t){return W.isBlock(e,t)},at:c,voids:a}),y=u()(p,2)[1],g=W.isStart(e,c,y),m=W.isEnd(e,c,y),b=!g||g&&m,w=!m,x=L.first({children:t},[]),O=u()(x,2)[1],k=L.last({children:t},[]),P=u()(k,2)[1],j=[],E=function(t){var r=u()(t,2),n=r[0],o=r[1];return!(b&&Z.isAncestor(o,O)&&J.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))&&!(w&&Z.isAncestor(o,P)&&J.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))},F=!0,A=!1,S=void 0;try{for(var D,_=L.nodes({children:t},{pass:E})[Symbol.iterator]();!(F=(D=_.next()).done);F=!0){var C=D.value;C[1].length>0&&E(C)&&j.push(C)}}catch(e){A=!0,S=e}finally{try{F||null==_.return||_.return()}finally{if(A)throw S}}for(var N=[],B=[],R=[],T=!0,z=!1,M=0,q=j;M<q.length;M++){var I=u()(q[M],1)[0];J.isElement(I)&&!e.isInline(I)?(T=!1,z=!0,B.push(I)):T?N.push(I):R.push(I)}var V=W.nodes(e,{at:c,match:function(t){return ie.isText(t)||W.isInline(e,t)},mode:"highest",voids:a}),U=u()(V,1)[0],K=u()(U,2)[1],$=W.isStart(e,c,K),Y=W.isEnd(e,c,K),G=W.pathRef(e,m?Z.next(y):y),H=W.pathRef(e,Y?Z.next(K):K);ve.splitNodes(e,{at:c,match:function(t){return z?W.isBlock(e,t):ie.isText(t)||W.isInline(e,t)},mode:z?"lowest":"highest",voids:a});var Q=W.pathRef(e,!$||$&&Y?Z.next(K):K);if(ve.insertNodes(e,N,{at:Q.current,match:function(t){return ie.isText(t)||W.isInline(e,t)},mode:"highest",voids:a}),ve.insertNodes(e,B,{at:G.current,match:function(t){return W.isBlock(e,t)},mode:"lowest",voids:a}),ve.insertNodes(e,R,{at:H.current,match:function(t){return ie.isText(t)||W.isInline(e,t)},mode:"highest",voids:a}),!r.at){var X;X=R.length>0?Z.previous(H.current):B.length>0?Z.previous(G.current):Z.previous(Q.current);var ee=W.end(e,X);ve.select(e,ee)}Q.unref(),G.unref(),H.unref()}}}))},insertText:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W.withoutNormalizing(e,(function(){var n=r.voids,o=void 0!==n&&n,i=r.at,a=void 0===i?e.selection:i;if(a){if(Z.isPath(a)&&(a=W.range(e,a)),te.isRange(a))if(te.isCollapsed(a))a=a.anchor;else{var s=te.end(a);if(!o&&W.void(e,{at:s}))return;var u=W.pointRef(e,s);ve.delete(e,{at:a,voids:o}),a=u.unref(),ve.setSelection(e,{anchor:a,focus:a})}if(o||!W.void(e,{at:a})){var c=a,f=c.path,l=c.offset;e.apply({type:"insert_text",path:f,offset:l,text:t})}}}))}})}}]);
//# sourceMappingURL=vendors~AMPPost~CollectionNewShortformEditor~CollectionPostShortformEditor~DebugCachedPost~Post~Sequ~19f09bd3.5b5af8d1.chunk.js.map